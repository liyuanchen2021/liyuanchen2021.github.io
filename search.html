
<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <title>搜索 - liyuanchen2021 OI</title>
    <link rel="icon" href="https://cdn.luogu.com.cn/upload/image_hosting/da42380y.png">
    <link href="/stylesheet.css" rel="stylesheet" type="text/css">
    <script>
      function Local_click() {
        var Kword = document.getElementById("Keyword").value;
        var strlist = [];
        var linklist = [];
        var istop = [];
        document.body.innerHTML = "<ul class=\"header-top\"><li class=\"header-text\"><a href=\"/\" class=\"name\">liyuanchen2021</a></li><li class=\"header-text\"><a href=\"/\" class=\"inactive\">首页</a></li><li class=\"header-text\"><a href=\"/post/list\" class=\"inactive\">文章</a></li><li class=\"header-text\"><a href=\"/about\" class=\"inactive\">关于</a></li><li class=\"header-text\"><a class=\"button-link\" href=\"/search\"><button class=\"menu-button\">搜索</button></a></li></ul>";
        document.body.innerHTML += "<h1>搜索</h1><p><input value=\"" + Kword + "\" type=\"text\" id=\"Keyword\" onkeyup=\"get()\"><button onclick=\"Local_click()\">搜索</button><button class=\"white\" onclick=\"Subsite_click()\">切换子站</button></p>";
        if (Kword == "@subsite:main") {
          document.body.innerHTML += "<p class=\"grey\">即将跳转至子站</p>";
          var newWindow = window.open("https://liyuanchen2021.github.io", "_self");
        } else if (Kword == "@subsite:oi") {
          document.body.innerHTML += "<p class=\"grey\">即将跳转至子站</p>";
          var newWindow = window.open("https://liyuanchen2021.github.io/oi", "_self");
        } else if (Kword.indexOf("@subsite:") != -1) {
          document.body.innerHTML += "<p class=\"grey\">未找到对应子站</p>";
        } else if (Kword != "") {
          const n = 0;
          var i, cnt = 0;
          for (i = 0; i < n; i++)
         	  if (strlist[i].indexOf(Kword) != -1)  cnt++;
          if (cnt == 0)  document.body.innerHTML += "<p class=\"grey\">未找到结果</p>";
          else  document.body.innerHTML += "<p class=\"grey\">共找到 " + cnt + " 条结果</p>";
          for (i = 0; i < n; i++)
            if (strlist[i].indexOf(Kword) != -1) {
              if (istop[i] == 1)  document.body.innerHTML += "<p><strong><a href=\"/oi/post/" + linklist[i] + "\">" + strlist[i] + "</a></strong></p>";
              else  document.body.innerHTML += "<p><a href=\"/oi/post/" + linklist[i] + "\">" + strlist[i] + "</a></p>";
            }
        }
      }
      function Subsite_click() {
        document.body.innerHTML = "<ul class=\"header-top\"><li class=\"header-text\"><a href=\"/\" class=\"name\">liyuanchen2021</a></li><li class=\"header-text\"><a href=\"/\" class=\"inactive\">首页</a></li><li class=\"header-text\"><a href=\"/post/list\" class=\"inactive\">文章</a></li><li class=\"header-text\"><a href=\"/about\" class=\"inactive\">关于</a></li><li class=\"header-text\"><a class=\"button-link\" href=\"/search\"><button class=\"menu-button\">搜索</button></a></li></ul>";
        document.body.innerHTML += "<h1>搜索</h1><p><input value=\"@subsite:\" type=\"text\" id=\"Keyword\" onkeyup=\"get()\"><button onclick=\"Local_click()\">搜索</button><button class=\"white\" onclick=\"Subsite_click()\">切换子站</button></p>";
      }
      function get() {
        var code = event.keyCode;
        if (code == 13) Local_click();
      }
    </script>
  </head>
  <body>
    <ul class="header-top">
        <li class="header-text"><a href="/" class="name">liyuanchen2021</a></li>
        <li class="header-text"><a href="/" class="inactive">首页</a></li>
        <li class="header-text"><a href="/post/list" class="inactive">文章</a></li>
        <li class="header-text"><a href="/about" class="inactive">关于</a></li>
        <li class="header-text"><a class="button-link" href="/search"><button class="menu-button">搜索</button></a></li>
    </ul>
    
    <h1>搜索</h1>
    <p><input type="text" id="Keyword" onkeyup="get()"><button onclick="Local_click()">搜索</button><button class="white" onclick="Subsite_click()">切换子站</button></p>
  </body>
</html>
