<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="keywords" content="洛谷P9123题解">
    <title>洛谷 P9123 题解 - 文章 - liyuanchen2021 OI</title>
    <link rel="icon" href="https://cdn.luogu.com.cn/upload/image_hosting/da42380y.png">
    <link href="/stylesheet.css" rel="stylesheet" type="text/css">
    <!-- 文章中包含 MathJax，可能导致加载较慢 -->
    <!-- MathJax 部分开始 -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$']], displayMath: [['$$','$$']]}
    });
    MathJax.Hub.Register.StartupHook("End", function () {
        Codeforces.runMathJaxListeners();
    });
    </script>
    <script type="text/javascript" async
            src="https://codeforc.es/menci/cdn-mathjax/com/MathJax.js?config=TeX-AMS_HTML-full">
    </script>
    <!-- MathJax 部分结束 -->
  </head>
  <body>
    <ul class="header-top">
        <li class="header-text"><a href="/" class="name">liyuanchen2021</a></li>
        <li class="header-text"><a href="/oi/index-page" class="name">OI版</a></li>
        <li class="header-text"><a href="/oi/index-page" class="inactive">首页</a></li>
        <li class="header-text"><a href="/oi/post/list" class="active">文章</a></li>
        <li class="header-text"><a href="https://github.com/liyuanchen2021/liyuanchen2021.github.io" class="inactive" target="_blank">仓库</a></li>
        <li class="header-text"><a class="button-link" href="/oi/search"><button href="/oi/search" class="menu-button">搜索</button></a></li>
    </ul>
    
    <h1>洛谷 P9123 题解</h1>
    <p>本题用到的算法是线性 DP。</p>
    <p>对于第 $d_1$ 天，只有一种选择——买票，当天花费为 $k+1$。</p>
    <p>对于第 $d_i$ 天，有两种选择：</p>
    <ul><li>买票，当天花费为 $k+1$；</li><li>不买票，当天花费为 $d_i - d_{i-1}$。</li></ul>
    <p>我们设 $f_i$ 为前 $d_i$ 天的花费总和，递推式如下：</p>
    <ul><li>若 $i=1$，则 $f_i=k+1$；</li><li>若 $i>1$，则 $f_i=\min\{f_{i-1}+(k+1),f_{i-1}+(d_i-d_{i-1})\}$。</li></ul>
    <p>最后输出 $f_n$ 即可。</p>
    <code type="application/cpp">#include &lt;iostream&gt;<br>
using namespace std;<br>
long long d[100005], f[100005];<br>
int main() {<br>
&nbsp;&nbsp;int n, k;<br>
&nbsp;&nbsp;cin >> n >> k;<br>
&nbsp;&nbsp;for (int i = 1; i <= n; i++)	cin >> d[i];<br>
&nbsp;&nbsp;f[1] = k + 1ll;<br>
&nbsp;&nbsp;for (int i = 2; i <= n; i++)<br>
&nbsp;&nbsp;&nbsp;&nbsp;f[i] = min(f[i - 1] + (d[i] - d[i - 1]), f[i - 1] + (k + 1ll));<br>
&nbsp;&nbsp;cout << f[n] << endl;<br>
&nbsp;&nbsp;return 0;<br>
}</code>
    <p class="grey">本文未经授权不得转载 | 不得抄袭题解中的代码</p>
  </body>
</html>
